{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h2 class="portfolio-create-new">Welcome to the Portfolio</h2>

  <!-- Here is the form to create a new portfolio.-->
  <div class="portfolio-create-new">
    <h3>Create a new Portfolio!</h3>
    <form action="{{ url_for(".portfolio_detail") }}" method="POST">
      {{ form.hidden_tag() }}
      {{ form.name.label }}{{ form.name(size=20) }}
      <input type="submit" name="create_category" id="create_category" value="Go">
    </form>
  </div>

  <div>
    {% for company in companies %}
      <div class="city">
        <h2>Portfolio: {{ company.portfolio.name }}</h2>

      <!-- Here is the manual form.-->
      <form action="" method="get">
        <button name="charts" type="submit" value={{ company.symbol }}><a href="{{ url_for(".candlestick_chart") }}">See Candlestick Chart</a></button>
        <button name="charts" type="submit" value={{ company.symbol }}><a href="{{ url_for(".stock_chart") }}">See Stock Chart</a></button>
      </form>

      <!-- Here is the flask magic form.-->
      <form action="{{ url_for(".portfolio_detail") }}" method="GET">
          {{ form_2.hidden_tag() }}
          <button name="charts" type="submit" value={{ company.symbol }}><a href="{{ url_for(".stock_chart") }}">See Stock Chart</a></button>
          <button name="charts" type="submit" value={{ company.symbol }}><a href="{{ url_for(".stock_chart") }}">See Stock Chart</a></button>
          <!-- Here is the hidden part of the form.-->
          {{ form_2.hidden_tag() }}
          <div class="hidden" hidden>
            {{ form_2.symbol.label }}{{ form_2.symbol(size=20) }}
          </div>
          <input type="submit" value="Go">
      </form>






        <p>Name: {{ company.companyName }}</p>
        <p>Symbol: {{ company.symbol }}</p>
        <p>Exchange: {{ company.exchange }}</p>
        <p>Industry: {{ company.industry }}</p>
        <p>Website: {{ company.website }}</p>
        <p>Description: {{ company.description }}</p>
        <p>CEO: {{ company.CEO }}</p>

      </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
